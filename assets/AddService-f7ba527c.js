import{u as te,c as ae,V as ne,e as le}from"./VCard-813b300f.js";import{d as oe,p as re,n as ie,z as ue,A as p,q as v,B as se,C as de,D as ce,E as m,G as fe,u as ve,H as me,a,I as R,F as I,J as U,K as xe,L as ge,M as A,N as he,O as Ve,P as we,_ as ye,o as pe,c as Ce,w as s,h as B}from"./index-be619d87.js";import{I as Fe,f as be,a as ke,b as z}from"./index-707ac81f.js";import{b as Pe,d as Se,u as Re,e as D,f as Ie,g as Ae,h as Be,V as He,a as Te}from"./VTextField-afc23655.js";import{V as _e}from"./VSpacer-c78e7d1a.js";const Me=oe({name:"AddService",setup(){return{store:te()}},data:()=>({name:"",description:""}),methods:{requiredRule(e){return e.length>0?!0:"Service name is required"},isUniqueRule(e){return this.store.serviceExists(e)?!0:"Service name must be unique"},cancel(){this.$router.push({name:"Home"})},add(){this.store.addService({name:this.name,description:this.description,createdAt:new Date}),this.$router.push({name:"Home"})}}});const Ne=re({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Pe(),...Se()},"VTextarea"),Ue=ie()({name:"VTextarea",directives:{Intersect:Fe},inheritAttrs:!1,props:Ne(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:x,emit:C,slots:u}=d;const n=ue(e,"modelValue"),{isFocused:o,focus:$,blur:q}=Re(e),E=p(()=>typeof e.counterValue=="function"?e.counterValue(n.value):(n.value||"").toString().length),G=p(()=>{if(x.maxlength)return x.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function O(t,l){!e.autofocus||!t||l[0].target?.focus?.()}const H=v(),g=v(),T=se(""),h=v(),j=p(()=>e.persistentPlaceholder||o.value||e.active);function F(){h.value!==document.activeElement&&h.value?.focus(),o.value||$()}function J(t){F(),C("click:control",t)}function K(t){C("mousedown:control",t)}function L(t){t.stopPropagation(),F(),A(()=>{n.value="",he(e["onClick:clear"],t)})}function Q(t){const l=t.target;if(n.value=l.value,e.modelModifiers?.trim){const r=[l.selectionStart,l.selectionEnd];A(()=>{l.selectionStart=r[0],l.selectionEnd=r[1]})}}const c=v(),V=v(+e.rows),b=p(()=>["plain","underlined"].includes(e.variant));de(()=>{e.autoGrow||(V.value=+e.rows)});function f(){e.autoGrow&&A(()=>{if(!c.value||!g.value)return;const t=getComputedStyle(c.value),l=getComputedStyle(g.value.$el),r=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),k=c.value.scrollHeight,y=parseFloat(t.lineHeight),P=Math.max(parseFloat(e.rows)*y+r,parseFloat(l.getPropertyValue("--v-input-control-height"))),S=parseFloat(e.maxRows)*y+r||1/0,i=we(k??0,P,S);V.value=Math.floor((i-r)/y),T.value=Ve(i)})}ce(f),m(n,f),m(()=>e.rows,f),m(()=>e.maxRows,f),m(()=>e.density,f);let w;return m(c,t=>{t?(w=new ResizeObserver(f),w.observe(c.value)):w?.disconnect()}),fe(()=>{w?.disconnect()}),ve(()=>{const t=!!(u.counter||e.counter||e.counterValue),l=!!(t||u.details),[r,k]=me(x),[{modelValue:y,...P}]=D.filterProps(e),[S]=Ie(e);return a(D,R({ref:H,modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":b.value},e.class],style:e.style},r,P,{centerAffix:V.value===1&&!b.value,focused:o.value}),{...u,default:i=>{let{isDisabled:_,isDirty:M,isReadonly:W,isValid:X}=i;return a(Ae,R({ref:g,style:{"--v-textarea-control-height":T.value},onClick:J,onMousedown:K,"onClick:clear":L,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},S,{active:j.value||M.value,centerAffix:V.value===1&&!b.value,dirty:M.value||e.dirty,disabled:_.value,focused:o.value,error:X.value===!1}),{...u,default:Y=>{let{props:{class:N,...Z}}=Y;return a(I,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),U(a("textarea",R({ref:h,class:N,value:n.value,onInput:Q,autofocus:e.autofocus,readonly:W.value,disabled:_.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:F,onBlur:q},Z,k),null),[[xe("intersect"),{handler:O},null,{once:!0}]]),e.autoGrow&&U(a("textarea",{class:[N,"v-textarea__sizer"],"onUpdate:modelValue":ee=>n.value=ee,ref:c,readonly:!0,"aria-hidden":"true"},null),[[ge,n.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:l?i=>a(I,null,[u.details?.(i),t&&a(I,null,[a("span",null,null),a(Be,{active:e.persistentCounter||o.value,value:E.value,max:G.value},u.counter)])]):void 0})}),be({},H,g,h)}});function ze(e,d,x,C,u,n){return pe(),Ce(ke,{style:{height:"100%"},"align-content":"center",justify:"center"},{default:s(()=>[a(Te,{cols:"8"},{default:s(()=>[a(ae,{flat:"",rounded:"lg",density:"default",style:{"padding-left":"1em","padding-right":"1em"}},{default:s(()=>[a(ne,null,{default:s(()=>[B("Add new service")]),_:1}),a(He,{modelValue:e.name,"onUpdate:modelValue":d[0]||(d[0]=o=>e.name=o),rules:[e.requiredRule,e.isUniqueRule],placeholder:"Service name",variant:"solo-filled",flat:"",rounded:"lg",density:"comfortable",style:{"margin-bottom":"0.5em"}},null,8,["modelValue","rules"]),a(Ue,{modelValue:e.description,"onUpdate:modelValue":d[1]||(d[1]=o=>e.description=o),placeholder:"Description",variant:"solo-filled",flat:"",rounded:"lg",density:"comfortable",rows:"3","no-resize":""},null,8,["modelValue"]),a(le,null,{default:s(()=>[a(z,{onClick:e.cancel,variant:"text",flat:"",color:"error","prepend-icon":"mdi-cancel"},{default:s(()=>[B("Cancel")]),_:1},8,["onClick"]),a(_e),a(z,{onClick:e.add,variant:"tonal",flat:"",color:"primary","prepend-icon":"mdi-plus"},{default:s(()=>[B("Add")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})}const Oe=ye(Me,[["render",ze]]);export{Oe as default};
