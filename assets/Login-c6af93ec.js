import{d as a,e as u,v as g,_ as r,o as i,f as d,a as o,w as n,g as h,h as w,i as V,r as y}from"./index-c09229d6.js";import{V as _,a as $}from"./VTextField-e1bb0fd2.js";import{V as v,a as p,b as L}from"./index-edcd9c02.js";import{V as b}from"./VForm-bfecac6d.js";const C=a({name:"LoginForm",data:()=>({password:"",show:!1}),methods:{attemptLogin(){const e=localStorage.getItem(u.appPasswordKey);e?g(this.password,e).then(t=>{t&&this.$router.push({name:"Home"})}):(console.warn("Login page opened, but password is not set"),this.$router.push({name:"Register"}))}}}),k=V("h1",{style:{"margin-bottom":"0.2em"}},"Enter the app password to log in",-1);function F(e,t,l,m,c,f){return i(),d("div",null,[k,o(b,{onSubmit:w(e.attemptLogin,["prevent"])},{default:n(()=>[o(_,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=s=>e.password=s),placeholder:"App password",type:e.show?"text":"password","append-inner-icon":e.show?"mdi-eye":"mdi-eye-off","onClick:appendInner":t[1]||(t[1]=s=>e.show=!e.show),variant:"solo",flat:"",rounded:"lg",density:"comfortable",style:{"margin-bottom":"0.5em"}},{"prepend-inner":n(()=>[o(v,{icon:"mdi-lock",color:"on-surface"})]),_:1},8,["modelValue","type","append-inner-icon"]),o(p,{justify:"end",style:{width:"100%",margin:"auto"}},{default:n(()=>[o(L,{onClick:e.attemptLogin,"append-icon":"mdi-chevron-right",flat:"",color:"primary",rounded:"lg"},{default:n(()=>[h("login")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["onSubmit"])])}const B=r(C,[["render",F]]),I=a({name:"Auth",components:{LoginForm:B}});function N(e,t,l,m,c,f){const s=y("LoginForm");return i(),d("div",null,[o(p,{align:"center",justify:"center",style:{height:"100vh"}},{default:n(()=>[o($,{cols:"11",sm:"10",md:"7",lg:"5",xl:"3"},{default:n(()=>[o(s)]),_:1})]),_:1})])}const R=r(I,[["render",N]]);export{R as default};
