import{V as y,a as R,b as B,c as V,d as q,u as w}from"./VCard-f0c7a4ba.js";import{d,_ as l,o,c as n,w as s,a as t,g as p,t as h,q as b,e as T,s as Y,r as f,f as S,F as _,x as C,i as A}from"./index-c09229d6.js";import{b as D,a as F}from"./index-edcd9c02.js";import{V as N,a as $}from"./VTextField-e1bb0fd2.js";import{V as I}from"./VContainer-99891521.js";const j=d({name:"ServiceCard",props:{service:{type:Object,required:!0}},methods:{showPassword(e){console.log("show password for service",e)},formatDate(e){let r=""+(e.getMonth()+1),a=""+e.getDate(),c=""+e.getFullYear();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),[a,r,c].join(".")},goToService(e){this.$router.push({name:"Service",params:{name:e}})}}});function H(e,r,a,c,u,m){return o(),n(V,{onClick:r[0]||(r[0]=i=>e.goToService(e.service.name)),flat:"",class:"rounded-lg",density:"compact","min-width":"10em"},{default:s(()=>[t(y,null,{default:s(()=>[p(h(e.service.name),1)]),_:1}),t(R,null,{default:s(()=>[p(h(e.formatDate(e.service.createdAt)),1)]),_:1}),e.service.description?(o(),n(B,{key:0},{default:s(()=>[p(h(e.service.description),1)]),_:1})):b("",!0)]),_:1})}const K=l(j,[["render",H]]),P=d({name:"RegisterServiceCard",methods:{addService(){this.$router.push({name:"AddService"})}}});function E(e,r,a,c,u,m){return o(),n(V,{flat:"",class:"rounded-lg",theme:"dark",variant:"tonal",density:"compact","min-width":"7em",onClick:e.addService},{default:s(()=>[t(q,{"aspect-ratio":"1"},{default:s(()=>[t(y,null,{default:s(()=>[p("Add new")]),_:1}),t(D,{onClick:e.addService,icon:"mdi-plus",theme:"dark",flat:""},null,8,["onClick"])]),_:1})]),_:1},8,["onClick"])}const J=l(P,[["render",E]]),L=require("search-array"),M=d({name:"SearchBar",setup(){return{store:w()}},data:()=>({query:""}),methods:{search(){const e=new L(this.store.services,{sort:!0});this.store.setServiceSearchResult(e.query(this.query))}}});function O(e,r,a,c,u,m){return o(),n(N,{onInput:e.search,modelValue:e.query,"onUpdate:modelValue":r[0]||(r[0]=i=>e.query=i),"append-inner-icon":"mdi-magnify",placeholder:"Search services",variant:"solo",flat:"",rounded:"lg",density:"comfortable","min-width":"10em"},null,8,["onInput","modelValue"])}const U=l(M,[["render",O]]),z=d({name:"YoyrServicesRow",setup(){return{store:w()}},components:{ServiceCard:K,RegisterServiceCard:J,SearchBar:U},created(){this.loadServices()},methods:{loadServices(){const e=localStorage.getItem(T.appPasswordKey);if(!e)return[];const r=Y(e);r&&this.store.setServices(r)}}}),G=A("h2",{style:{"margin-bottom":"0.5em"}},"Your services",-1);function Q(e,r,a,c,u,m){const i=f("SearchBar"),k=f("RegisterServiceCard"),g=f("ServiceCard");return o(),S(_,null,[G,t(i),t(F,{align:"center"},{default:s(()=>[t($,{align:"center",cols:"auto"},{default:s(()=>[t(k)]),_:1}),e.store.serviceSearchResult.length>0?(o(!0),S(_,{key:0},C(e.store.serviceSearchResult,v=>(o(),n($,{cols:"auto"},{default:s(()=>[t(g,{service:v},null,8,["service"])]),_:2},1024))),256)):(o(!0),S(_,{key:1},C(e.store.services,v=>(o(),n($,{cols:"auto"},{default:s(()=>[t(g,{service:v},null,8,["service"])]),_:2},1024))),256))]),_:1})],64)}const W=l(z,[["render",Q]]),X=d({name:"Home",components:{YourServicesRow:W}});function Z(e,r,a,c,u,m){const i=f("YourServicesRow");return o(),n(I,null,{default:s(()=>[t(i)]),_:1})}const oe=l(X,[["render",Z]]);export{oe as default};
